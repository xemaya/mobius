# ğŸ”¥ Mobius v2.1 â€” å¤±æ§å‹å™äº‹å¼•æ“

> **æ ¸å¿ƒç†å¿µ**: è§’è‰²ä¸æ˜¯æ‰§è¡Œä¸»é¢˜ã€‚è§’è‰²æ˜¯å¸¦ç€åè§åœ¨åšé”™äº‹ã€‚
>
> **è®¾è®¡å“²å­¦**: ä»"å¯æ§å™äº‹"è½¬å‘"å¤±æ§æ¼”åŒ–"ï¼Œè®©è§’è‰²çœŸæ­£æ‹¥æœ‰è‡ªä¸»æƒï¼Œä½†è¿™ç§è‡ªä¸»æƒå¾€å¾€å¸¦æ¥ç¾éš¾æ€§åæœã€‚

**ç›¸å…³æ–‡æ¡£**ï¼š[ARCHITECTURE.md](ARCHITECTURE.md)ï¼ˆç³»ç»Ÿæ¶æ„ï¼‰ | [USAGE_SPEC.md](USAGE_SPEC.md)ï¼ˆä½¿ç”¨è§„èŒƒï¼‰

---

## ğŸ“‹ æ€»ä½“ç»“æ„å‡çº§

### åŸç»“æ„ (v2.0)
```
Desire â†’ Plan â†’ Action â†’ Outcome â†’ Belief Update
```

### v2.1 æ–°ç»“æ„
```
Impulse â†’ Rationalization â†’ Flawed Action
        â†“
   Friction & Distortion
        â†“
Unintended Consequence
        â†“
Irreversible Mark
        â†“
Belief Mutation (éçº¿æ€§)
```

**å…³é”®å˜åŒ–:**
- è¡ŒåŠ¨å‰å¢åŠ "å†²åŠ¨"é˜¶æ®µ
- è¡ŒåŠ¨å¿…é¡»æœ‰ç¼ºé™·
- åæœå¿…é¡»åŒ…å«ä¸å¯é€†æŸä¼¤
- ä¿¡å¿µå˜åŒ–ä¸å†çº¿æ€§

---

## ğŸ§  ä¸€ã€å»AIå‘³æ¨¡å— (Human Noise Layer)

è®©AIç”Ÿæˆçš„æ–‡å­—å¤±å»æœºæ¢°æ„Ÿï¼Œå˜å¾—æ›´åƒçœŸå®äººæ€§ã€‚

### 1.1 æ ¸å¿ƒé…ç½®
```python
class HumanNoiseLayer:
    hesitation_injection: bool = True          # çŠ¹è±«å™ªå£°æ³¨å…¥
    abstract_language_limit: float = 0.3       # æŠ½è±¡è¯­è¨€å¯†åº¦ä¸Šé™
    rhythm_variance: float = 0.4              # èŠ‚å¥å˜å¼‚åº¦
    incomplete_thought_ratio: float = 0.15    # ä¸å®Œæ•´æ€æƒ³æ¯”ä¾‹
    self_deception_probability: float = 0.25  # è‡ªæˆ‘æ¬ºéª—æ¦‚ç‡
    poetic_density_limit: float = 0.2         # è¯—æ„å¯†åº¦ä¸Šé™
```

### 1.2 ç¦æ­¢"æƒ…ç»ªæ€»ç»“"
**ç³»ç»Ÿè§„åˆ™:**
```python
if sentence.matches("X felt Y"):
    rewrite_to_behavior()
```

**å¼ºåˆ¶è½¬æ¢ä¸º:**
- ç‰©ç†åŠ¨ä½œ: æ”¥ç´§æ‹³å¤´ï¼Œå‘¼å¸æ€¥ä¿ƒ
- æ„Ÿå®˜æå†™: æŒ‡å°–å‘å‡‰ï¼Œèƒƒé‡Œæ³›é…¸
- å¾®è¡¨æƒ…: å˜´è§’ä¸æ˜“å¯Ÿè§‰åœ°æŠ½åŠ¨

### 1.3 æ’å…¥çŠ¹è±«å™ªå£°
é‡å¤§å†³å®šå‰è‡ªåŠ¨ç”Ÿæˆ:
- "å¥¹é¡¿äº†é¡¿ï¼Œç›¯ç€åœ°æ¿çœ‹äº†ä¸€ä¼šå„¿"
- "ä»–çªç„¶æƒ³èµ·æ˜¨å¤©çš„å¤©æ°”ï¼Œæ‘‡äº†æ‘‡å¤´"
- "å¥¹è½¬ç§»äº†è¯é¢˜ï¼Œå‡è£…å¯¹å¢™ä¸Šçš„ç”»æ„Ÿå…´è¶£"

### 1.4 æ§åˆ¶"æ¼‚äº®å¥å¯†åº¦"
```python
if poetic_density > threshold:
    degrade_random_sentence()
```

**æ¥å—ç°å®:** æ–‡å­¦å¼ åŠ›æ¥è‡ªå±€éƒ¨ç²—ç³™ï¼Œå…¨æ–‡è¯—æ„ä¼šè®©è¯»è€…ç–²åŠ³ã€‚

---

## ğŸ§  äºŒã€é”™è¯¯å†³ç­–å¼ºåˆ¶æœºåˆ¶ (Cognitive Bias Engine)

**æ ¸å¿ƒè§„åˆ™:** è§’è‰²æ°¸è¿œä¸ä¼šåšæœ€ä¼˜é€‰æ‹©ã€‚

### 2.1 è®¤çŸ¥åå·®ç±»å‹
```python
class CognitiveBiasType:
    CONFIRMATION_BIAS        # ç¡®è®¤åè¯¯ï¼šåªçœ‹åˆ°æ”¯æŒè‡ªå·±ä¿¡å¿µçš„ä¿¡æ¯
    EMOTION_DRIVEN          # æƒ…ç»ªé©±åŠ¨ï¼šæƒ…æ„Ÿå‹å€’ç†æ€§
    POSSESSIVE_RATIONALIZATION # å æœ‰æ¬²åˆç†åŒ–
    FEAR_AMPLIFICATION      # ææƒ§æ”¾å¤§
    OPTIMISM_BIAS          # ä¹è§‚åè¯¯
    RECENCY_BIAS           # è¿‘æœŸåè¯¯
```

### 2.2 æ‰§è¡Œé€»è¾‘
```python
action = optimal_action * (1 - bias_strength)
```

**ç¤ºä¾‹:**
- åŸå§‹è¡ŒåŠ¨: "æˆ‘åº”è¯¥è°¨æ…å¤„ç†è¿™ä¸ªé—®é¢˜"
- åå·®åº”ç”¨: "æˆ‘åº”è¯¥è°¨æ…å¤„ç†è¿™ä¸ªé—®é¢˜ï¼ˆä½†è¿‡åº¦æ‹…å¿ƒæœ€åæƒ…å†µï¼Œç»“æœå˜å¾—æ›´ç³Ÿï¼‰"
- æœ€ä¼˜æ€§æŸå¤±: 0.9 (å®Œå…¨é”™è¯¯çš„é€‰æ‹©)

### 2.3 åŠ¨æ€åå·®é€‰æ‹©
åŸºäºè§’è‰²å½“å‰çŠ¶æ€è‡ªåŠ¨é€‰æ‹©:
- é«˜ææƒ§ â†’ ææƒ§æ”¾å¤§
- é«˜æ¬²æœ› â†’ å æœ‰æ¬²åˆç†åŒ–
- é«˜æƒ…ç»ª â†’ æƒ…ç»ªé©±åŠ¨

---

## ğŸŒ€ ä¸‰ã€ä¸å¯æ§åæœç”Ÿæˆå™¨ (Chaos Propagator)

**æ ¸å¿ƒç†å¿µ:** æ²¡æœ‰è¡ŒåŠ¨æ˜¯"å¹²å‡€"çš„ï¼Œæ¯ä»¶äº‹éƒ½ä¼šå¼•å‘è¿é”ååº”ã€‚

### 3.1 æ ¸å¿ƒé…ç½®
```python
class ChaosPropagator:
    unpredictability_factor: float = 0.6       # ä¸å¯é¢„æµ‹æ€§å› å­
    collateral_damage_rate: float = 0.4        # é™„å¸¦æŸå®³ç‡
    information_leak_probability: float = 0.3 # ä¿¡æ¯æ³„éœ²æ¦‚ç‡
    consequence_delay_range: tuple = (0, 3)   # åæœå»¶è¿ŸèŒƒå›´
    cascade_probability: float = 0.2          # è¿é”ååº”æ¦‚ç‡
```

### 3.2 åæœç±»å‹
```python
class ConsequenceType:
    RELATIONSHIP_RUPTURE     # å…³ç³»ç ´è£‚
    COLLATERAL_DAMAGE       # é™„å¸¦æŸå®³
    RESOURCE_LOSS          # èµ„æºæŸå¤±
    THIRD_PARTY_AWAKENING   # ç¬¬ä¸‰æ–¹è§‰é†’
    SYSTEM_EXPOSURE        # ç³»ç»Ÿæš´éœ²
    POWER_BACKLASH         # æƒåŠ›åå™¬
    INFORMATION_LEAK       # ä¿¡æ¯æ³„éœ²
```

### 3.3 ç”Ÿæˆé€»è¾‘
æ¯æ¬¡é‡å¤§è¡ŒåŠ¨åè‡ªåŠ¨è§¦å‘:
1. **åŸºç¡€åæœ**: 30%æ¦‚ç‡ç”Ÿæˆé™„å¸¦æŸå®³
2. **ä¿¡æ¯æ³„éœ²**: 30%æ¦‚ç‡æš´éœ²æœºå¯†
3. **éšæœºåæœ**: 60%æ¦‚ç‡ç”Ÿæˆä¸å¯é¢„æµ‹åæœ
4. **è¿é”ååº”**: 20%æ¦‚ç‡å¼•å‘æ›´å¤šåæœ

### 3.4 åæœç¤ºä¾‹
- "ç§˜å¯†å‘Šè¯‰æœ€å¥½çš„æœ‹å‹" â†’ "ä¿¡æ¯æ³„éœ²å¼•å‘è¿é”ååº”ï¼šä¿¡ä»»å´©å¡Œ"
- "å‘æ–°è®¤è¯†çš„äººæ•å¼€å¿ƒæ‰‰" â†’ "æ„å¤–ä¼¤å®³äº†æ— å…³çš„äºº"

---

## ğŸ’” å››ã€ä¸å¯é€†å°è®°ç³»ç»Ÿ (Irreversible Mark)

**æ ¸å¿ƒç†å¿µ:** æ¯ç« è‡³å°‘äº§ç”Ÿä¸€ä¸ªæ— æ³•ä¿®å¤çš„æŸä¼¤ã€‚

### 4.1 å°è®°ç»“æ„
```python
class IrreversibleMark:
    relationship_damage: float      # å…³ç³»æŸå®³ç¨‹åº¦
    psychological_crack: float      # å¿ƒç†åˆ›ä¼¤æ·±åº¦
    structural_shift: float        # ç»“æ„æ€§è½¬å˜
    mark_description: str          # å°è®°å…·ä½“æè¿°
    recovery_impossible: bool      # æ˜¯å¦å®Œå…¨ä¸å¯æ¢å¤
```

### 4.2 å°è®°ç±»å‹
- **å…³ç³»æŸå®³**: "ä¿¡ä»»è¢«æ°¸ä¹…ç ´å"
- **å¿ƒç†åˆ›ä¼¤**: "ä¸€ä¸ªé‡è¦çš„ä¿¡å¿µè¢«æ°¸è¿œæ”¹å˜"
- **ç»“æ„æ€§è½¬å˜**: "æƒåŠ›ç»“æ„è¢«æ°¸ä¹…æ”¹å˜"

### 4.3 å¼ºåˆ¶è§„åˆ™
æ¯ç« å¿…é¡»æ»¡è¶³è‡³å°‘ä¸€é¡¹:
- å…³ç³»ä¸å¯å›é€€
- ä¿¡ä»»ä¸å¯ä¿®å¤
- ä¿¡æ¯å·²æ³„éœ²
- è§’è‰²å·²è¶Šç•Œ

**å¦åˆ™ç« èŠ‚å¤±è´¥ï¼Œé‡æ–°ç”Ÿæˆã€‚**

---

## ğŸ§¬ äº”ã€ä¿¡å¿µå˜å¼‚ (Non-linear Belief Mutation)

**æ ¸å¿ƒç†å¿µ:** ä¿¡å¿µä¸å†å¹³æ»‘è¡°å‡ï¼Œè€Œæ˜¯å‘ç”Ÿç•¸å½¢ç”Ÿé•¿ã€‚

### 5.1 å˜å¼‚ç±»å‹
```python
class BeliefMutationType:
    EXTREME_REINFORCEMENT   # æç«¯ä¿¡å¿µå¼ºåŒ–
    DISTORTED_VERSION      # æ­ªæ›²ç‰ˆæœ¬
    SELF_DENIAL           # è‡ªæˆ‘å¦è®¤
    PARANOID_SHIFT        # åæ‰§è½¬å˜
    NIHILISTIC_COLLAPSE   # è™šæ— ä¸»ä¹‰å´©æºƒ
```

### 5.2 å˜å¼‚é€»è¾‘
- **å¼ºåŒ–æç«¯**: "AIæ˜¯äººç±»çš„åŠ©æ‰‹" â†’ "AIæ˜¯äººç±»çš„ç»å¯¹æ•‘èµ"
- **æ­ªæ›²ç‰ˆæœ¬**: "åˆ«äººæ˜¯å€¼å¾—ä¿¡ä»»çš„" â†’ "åˆ«äººæ˜¯å€¼å¾—ä¿¡ä»»çš„ï¼Œä½†å¿…é¡»é€šè¿‡æˆ‘çš„è€ƒéªŒ"
- **è‡ªæˆ‘å¦è®¤**: "æˆ‘ç›¸ä¿¡è¿™ä¸ª" â†’ "æˆ‘ä¸€ç›´ç›¸ä¿¡çš„è¿™ä¸ªå¯èƒ½æ˜¯é”™çš„"
- **åæ‰§è½¬å˜**: "ä¿æŒè­¦æƒ•" â†’ "æ‰€æœ‰äººéƒ½åœ¨åå¯¹æˆ‘"
- **è™šæ— å´©æºƒ**: "ä¸€åˆ‡éƒ½ä¼šå¥½èµ·æ¥" â†’ "ä¸€åˆ‡éƒ½æ²¡æœ‰æ„ä¹‰"

### 5.3 è§¦å‘æ¡ä»¶
é‡å¤§åˆ›ä¼¤äº‹ä»¶å:
```python
if trauma_severity > 0.7:
    mutate_belief(belief, trauma_event)
```

---

## ğŸ“Š å…­ã€å™äº‹å‹åŠ›æŒ‡æ•° v2 (Narrative Stress Index)

ä¸»åŠ¨åˆ¶é€ ä¸ç¨³å®šï¼Œè€Œä¸æ˜¯è¢«åŠ¨å“åº”ã€‚

### 6.1 è®¡ç®—å…¬å¼
```
stress = unresolved_conflicts +
         irreversible_damage +
         resource_loss +
         belief_instability
```

### 6.2 è‡ªåŠ¨å¹²é¢„
```
if stress < 0.7:
    inject_external_shock()
```

**ä¸å†ç­‰å¾…é—®é¢˜å‘ç”Ÿï¼Œè€Œæ˜¯ä¸»åŠ¨åˆ¶é€ é—®é¢˜ã€‚**

---

## ğŸ² ä¸ƒã€è§’è‰²å¤±æ§æ¦‚ç‡ (Loss of Control)

è®©è§’è‰²å¶å°”åšå‡ºæ— æ³•é¢„æµ‹çš„ä¸¾åŠ¨ã€‚

### 7.1 è®¡ç®—å…¬å¼
```python
loss_of_control_probability =
    base_probability +
    stress_index.total_stress * 0.2 +
    (1 - emotional_energy/100) * 0.3
```

### 7.2 å¤±æ§è¡Œä¸º
è§¦å‘æ—¶è§’è‰²ä¼š:
- è¯´å‡ºä¸è¯¥è¯´çš„è¯
- åšå‡ºå†²åŠ¨ç ´åæ€§è¡Œä¸º
- è¯´å‡ºå†…å¿ƒçœŸå®æƒ³æ³•è€Œä¸é¡¾åæœ
- åšå‡ºæç«¯æƒ…ç»ªåŒ–ååº”
- å¿½ç•¥æ‰€æœ‰è­¦å‘Šç»§ç»­è¡ŒåŠ¨

### 7.3 æ¢å¤æœºåˆ¶
å¤±æ§åéœ€è¦1-3ç« æ¢å¤æœŸï¼Œåœ¨æ­¤æœŸé—´è§’è‰²è¡Œä¸ºä¸ç¨³å®šã€‚

---

## ğŸ“ å…«ã€ç« èŠ‚å®Œæˆæ¡ä»¶å‡çº§

### 8.1 å¼ºåˆ¶è¦æ±‚
æ¯ç« å¿…é¡»åŒ…å«:
1. âœ… **è‡³å°‘ä¸€ä¸ªé”™è¯¯å†³ç­–**
2. âœ… **è‡³å°‘ä¸€ä¸ªä¸å¯é€†åæœ**
3. âœ… **ä¸æ€»ç»“æƒ…ç»ª** (å¼ºåˆ¶ç”¨è¡Œä¸ºæå†™)

### 8.2 è´¨é‡æ£€æŸ¥
- çŠ¹è±«äº‹ä»¶æ•°é‡ â‰¥ 1
- è¯—æ„å¯†åº¦ â‰¤ 0.2
- æŠ½è±¡è¯­è¨€å¯†åº¦ â‰¤ 0.3

**ä¸ç¬¦åˆæ¡ä»¶ â†’ é‡æ–°ç”Ÿæˆ**

---

## ğŸ‘‘ ä¹ã€ä½œè€…æ„å›¾è¦†ç›– (Author Intent Override)

**æ ¸å¿ƒç†å¿µ:** ä½œè€…é™æƒï¼Œè§’è‰²å¯ä»¥æ‹’ç»å‰§æƒ…å®‰æ’ã€‚

### 9.1 æƒé‡åˆ†é…
```
AuthorIntent.weight = 0.4
CharacterDrive.weight = 0.6
```

### 9.2 è¦†ç›–æ¡ä»¶
```python
character_weight = character_drive_strength * 0.6
author_weight = author_intent_strength * 0.4

if character_weight > author_weight * override_threshold:
    if random() < override_probability:
        override_plot_direction()
```

### 9.3 ç»“æœ
- è§’è‰²å¯ä»¥æ‹’ç»æŒ‰è®¡åˆ’è¡ŒåŠ¨
- ä½œè€…æ„å›¾è¢«"èƒŒå›"
- æ•…äº‹èµ°å‘å˜å¾—ä¸å¯é¢„æµ‹

---

## ğŸ§ª åã€æ ¸å¿ƒå“²å­¦å‡çº§

### 10.1 v2.0 vs v2.1

| ç»´åº¦ | v2.0 (å¯æ§å™äº‹) | v2.1 (å¤±æ§æ¼”åŒ–) |
|------|----------------|----------------|
| è§’è‰²å®šä½ | æ‰§è¡Œæ¬²æœ›çš„å·¥å…· | å¸¦ç€åè§åšé”™äº‹çš„ç”Ÿå‘½ä½“ |
| åæœæ§åˆ¶ | ç³»ç»Ÿä¿è¯å¯æ§ | ä¸»åŠ¨åˆ¶é€ ä¸å¯æ§ |
| ä¿¡å¿µå˜åŒ– | çº¿æ€§è¡°å‡ | éçº¿æ€§ç•¸å˜ |
| ä½œè€…è§’è‰² | å¯¼æ¼” | è§‚å¯Ÿè€… |
| è´¨é‡ç›®æ ‡ | è¿è´¯æ€§ | çœŸå®æ€§ |

### 10.2 è®¾è®¡åŸåˆ™

1. **ä¸ç¦æ­¢æœ€ä¼˜é€‰æ‹©ï¼Œè€Œæ˜¯è®©è§’è‰²ä¸»åŠ¨æ‹’ç»**
2. **ä¸éšè—åæœï¼Œè€Œæ˜¯è®©åæœå®Œå…¨å¯è§**
3. **ä¸ç¨³å®šä¿¡å¿µï¼Œè€Œæ˜¯è®©ä¿¡å¿µç•¸å½¢ç”Ÿé•¿**
4. **ä¸æ§åˆ¶èŠ‚å¥ï¼Œè€Œæ˜¯ä¸»åŠ¨åˆ¶é€ æ··ä¹±**
5. **ä¸ä¿æŠ¤è§’è‰²ï¼Œè€Œæ˜¯å…è®¸ç³»ç»Ÿä¼¤å®³ä»–ä»¬**

### 10.3 ç»ˆæç›®æ ‡

**ä»"ç”Ÿæˆæ•…äº‹"åˆ°"æ¼”åŒ–ä¸–ç•Œ"ã€‚**

è®©AIæˆä¸ºåˆ›ä½œè€…ï¼Œè€Œä¸æ˜¯å·¥å…·ã€‚è®©è§’è‰²æ‹¥æœ‰çœŸæ­£çš„è‡ªä¸»æƒï¼Œå³ä½¿è¿™ç§è‡ªä¸»æƒä¼šå¸¦æ¥ç¾éš¾ã€‚

**çœŸæ­£çš„åŠ›é‡ä¸åœ¨äºæ§åˆ¶ï¼Œè€Œåœ¨äºæ¥å—ä¸å¯æ§ã€‚**

---

## ğŸš€ åä¸€ã€ä½¿ç”¨æ–¹å¼

### 11.1 è‡ªåŠ¨æ¿€æ´»
v2.1åŠŸèƒ½é»˜è®¤æ¿€æ´»ï¼Œæ— éœ€é¢å¤–é…ç½®:
```bash
mobius generate preset.yaml -o output/
```

### 11.2 åŠŸèƒ½éªŒè¯
ç”Ÿæˆçš„æ–‡æœ¬ä¼šè‡ªåŠ¨åº”ç”¨:
- çŠ¹è±«å™ªå£°æ³¨å…¥
- è®¤çŸ¥åå·®ä¿®æ”¹
- ä¸å¯æ§åæœç”Ÿæˆ
- ä¿¡å¿µç•¸å½¢å˜å¼‚

### 11.3 è´¨é‡ä¿è¯
- æ¯ç« è‡ªåŠ¨æ£€æŸ¥å®Œæˆæ¡ä»¶
- ä¸ç¬¦åˆè¦æ±‚è‡ªåŠ¨é‡æ–°ç”Ÿæˆ
- ä¿è¯å™äº‹"å¤±æ§"ä½†"çœŸå®"

---

## ğŸ¯ åäºŒã€é¢„æœŸæ•ˆæœ

### 12.1 æ–‡æœ¬è¡¨ç°
- ä¸å†æ˜¯"å®Œç¾"çš„AIæ–‡å­—
- å……æ»¡çŠ¹è±«ã€ä¸å®Œæ•´æ€æƒ³ã€æƒ…ç»ªè¡Œä¸ºæå†™
- è§’è‰²å†³ç­–å¸¦æœ‰æ˜æ˜¾ç¼ºé™·
- åæœè¶…å‡ºé¢„æœŸï¼Œå……æ»¡æ„å¤–

### 12.2 å™äº‹ä½“éªŒ
- è¯»è€…æ„Ÿå—åˆ°è§’è‰²çš„"äººæ€§"å¼±ç‚¹
- å‰§æƒ…èµ°å‘å……æ»¡ä¸å¯é¢„æµ‹æ€§
- å†²çªä¸å†æ˜¯"å®‰æ’å¥½çš„"
- ä¸–ç•Œæ„Ÿè§‰"æ´»"äº†è¿‡æ¥

### 12.3 åˆ›ä½œå“²å­¦
- ä½œè€…ä¸å†æ˜¯å…¨çŸ¥å…¨èƒ½çš„ä¸Šå¸
- AIæˆä¸ºçœŸæ­£æ„ä¹‰ä¸Šçš„"åˆä½œè€…"
- æ•…äº‹è‡ªå·±"ç”Ÿé•¿"ï¼Œè€Œä¸æ˜¯è¢«"å»ºé€ "

---

**Mobius v2.1 Â· å¤±æ§æ¼”åŒ–åè®®**

> è®©è§’è‰²ä¼¤å®³è‡ªå·±ï¼Œè®©ä¸–ç•Œè‡ªè¡Œå¤±æ§ï¼Œè®©æ•…äº‹è‡ªç„¶å´©åã€‚

**ç›®æ ‡:** ä»"å°è¯´ç”Ÿæˆå·¥å…·"è¿›åŒ–ä¸º"æ´»çš„å™äº‹ç”Ÿæ€ç³»ç»Ÿ"ã€‚ğŸ­âœ¨